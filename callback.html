<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>LINE 登入成功｜JIU BIRD</title>
  <style>
    body {
      font-family: 'Noto Sans TC', sans-serif;
      text-align: center;
      padding: 40px;
      background: #f5f5f5;
    }
    .success-box {
      background: #fff;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 0 12px rgba(0,0,0,0.1);
      max-width: 500px;
      margin: auto;
    }
    .success-box h1 {
      color: #2ecc71;
    }
    .btn {
      display: inline-block;
      margin-top: 20px;
      padding: 10px 20px;
      background: #2ecc71;
      color: #fff;
      border: none;
      border-radius: 6px;
      text-decoration: none;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="success-box">
    <h1>登入成功！</h1>
    <p>感謝你使用 LINE 登入，你現在已成為 JIU BIRD 的會員。</p>
    <p>我們已收到你的授權資訊，稍後會自動寫入會員資料。</p>
    <a class="btn" href="index.html">回首頁 →</a>
  </div>

  <script>
    // 解析 LINE 回傳的 code
    const urlParams = new URLSearchParams(window.location.search);
    const code = urlParams.get('code');
    const state = urlParams.get('state');

    if (code) {
      console.log("LINE 授權 code：", code);
      console.log("LINE state：", state);

      // TODO：呼叫後端 API 換取 access_token
      // fetch(window.CONFIG.API_BASE, {
      //   method: 'POST',
      //   headers: { 'Content-Type': 'application/json' },
      //   body: JSON.stringify({ code })
      // })
      // .then(res => res.json())
      // .then(data => {
      //   console.log("後端回傳：", data);
      // })
      // .catch(err => console.error("交換 token 失敗：", err));
    } else {
      console.warn("未收到 LINE 授權 code");
    }
  </script>
</body>
</html>
